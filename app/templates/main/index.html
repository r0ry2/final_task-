{% extends "base.html" %}
{% block content %}
  <h1>Welcome to the Social Blog</h1>

  {% if form %}
  <div class="new-post">
    <h3>New Post</h3>
    <form method="POST">
      {{ form.hidden_tag() }}
      <p>{{ form.body(rows=4, cols=60) }}</p>
      <p>{{ form.submit(class="btn btn-primary") }}</p>
    </form>
  </div>
  <hr>
  {% endif %}

  {% include "main/_posts.html" %}
  
  {# Pagination controls #}
  {% if pagination.pages > 1 %}
  <nav aria-label="Page navigation">
    <ul class="pagination">
      {% if pagination.has_prev %}
        <li><a href="{{ url_for('main.index', page=pagination.prev_num) }}">&laquo; Prev</a></li>
      {% else %}
        <li class="disabled"><span>&laquo; Prev</span></li>
      {% endif %}
      <li> Page {{ pagination.page }} / {{ pagination.pages }} </li>
      {% if pagination.has_next %}
        <li><a href="{{ url_for('main.index', page=pagination.next_num) }}">Next &raquo;</a></li>
      {% else %}
        <li class="disabled"><span>Next &raquo;</span></li>
      {% endif %}
    </ul>
  </nav>
  {% endif %}

{% endblock %}
